<!DOCTYPE html>
<html lang="en">
  <head>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lines Writing Punishment Online</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=MedievalSharp&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="../style.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">
    <meta name="description" content="Have you ever had to write lines as punishment? This website is a simple line typing punishment tool. It simulates a traditional punishment given to students.">
    <meta name="keywords" content="line punishment, lines punishment, writing lines as punishment, writing as punishment, line writing punishment, lines typing punishment, lines writing punishment, line typing punishment, lines punish, writing punishment, typing punishment, punishment lines">
    <meta name="google-site-verification" content="google8c12906dc44fd102.html">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9563326566807283"      crossorigin="anonymous"></script>
  </head>
  <body>
    <div class="header">
      <nav>
        <div class="menu">
          <a id="About" href="https://timeoutroom.github.io/">
            <b>Time-Out</b>
          </a> &nbsp; <div>
            <button id="Home" onclick="location.href='https://linepunish.github.io/'">
              <b>Home</b>
            </button>
          </div> &nbsp; <div class="dropdown">
            <button id="Language" class="langbutton">
              <b>Language</b>
            </button>
            <div class="dropdown-options">
              <a href="https://linepunish.github.io/">English</a>
              <a href="https://linepunish.github.io/ja/">日本語</a>
              <a href="https://linepunish.github.io/ru/">русский</a>
              <a href="https://linepunish.github.io/bn/">বাংলা</a>
              <a href="https://linepunish.github.io/zh/">中文</a>
            </div>
          </div>
        </div>
      </nav>
    </div>
    <h1>Lines Writing Punishment (Stillness Mode)</h1>
    <div id="container">
      <p class="text">Type a sentence you want to repeat as punishment:</p>
      <input id="input" type="text" placeholder="Type a sentence here" onkeyup="enter1(event1)" onpaste="return false;" onCopy="return false" onCut="return false" onDrag="return false" onDrop="return false" autocomplete=off>
      <button id="button1" onclick="lock1()">OK</button>
      <p id="result1"></p>
      <p class="text">How many times do you want to repeat it?</p>
      <input id="number" type="number" placeholder="Type a number here" onkeyup="enter2(event2)" onpaste="return false;" onCopy="return false" onCut="return false" onDrag="return false" onDrop="return false" autocomplete=off>
      <button id="button2" onclick="lock2()">OK</button>
      <p id="result2"></p>
      <p class="text">Type the sentence as many times as you specified:</p>
      <input id="box" type="text" placeholder="Type here" onkeyup="enter3(event3)" onpaste="return false;" onCopy="return false" onCut="return false" onDrag="return false" onDrop="return false" autocomplete=off>
      <button id="button3" onclick="lock3()">Enter</button>
      <p id="result3"></p>
    </div>
    <br>
    <br>
    <div id="para">
      <div style="text-align: center;"> Have you ever had to write lines as punishment? <br> This website is a simple line typing punishment tool. <br> It simulates a traditional punishment given to students. <br> You have to enter a sentence, enter the number of times you need to type it, and then type that sentence repeatedly for the required number of times. <br>
      </div>
      <div style="text-align: center; text-decoration: underline;">
        <br> INSTRUCTIONS <br>
        <br>
      </div>
      <div style="text-align: left;"> 1: Enter the sentence, which needs to be typed several times, in the first box and click the <b>OK</b> button. <br>
        <br> 2: Enter the number of times you want to type it in the second box and click the <b>OK</b> button. <br>
        <br> 3: Type that sentence the number of times you have specified and press the <b>Enter</b> key or click the <b>Enter</b> button. After you complete the task, the website will display the exact number of times you have typed the sentence. <br>
      </div>
      <div style="text-align: center;"><br><a href="https://linepunish.github.io/about/">About Us</a></div>
    </div>
    <br>
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        var input = document.getElementById("input");
        var number = document.getElementById("number");
        var box = document.getElementById("box");
        var result1 = document.getElementById("result1");
        var result2 = document.getElementById("result2");
        var result3 = document.getElementById("result3");
        var count = 0;

        function lock1() {
          var value1 = input.value.trim();
          if (value1 === "") {
            result1.innerHTML = "Please enter a sentence!";
            result1.style.color = "rgb(75, 0, 130)";
            result1.style.fontWeight = "bold";
            return;
          } else {
            input.disabled = true;
            input.style.backgroundColor = "#ccc";
            result1.innerHTML = "";
            input.focus();
            removeButton("button1");
          }
        }

        function lock2() {
          var value2 = number.value.trim();
          if (value2 === "") {
            result2.innerHTML = "Please enter a number!";
            result2.style.color = "rgb(75, 0, 130)";
            result2.style.fontWeight = "bold";
            return;
          } else {
            number.disabled = true;
            number.style.backgroundColor = "#ccc";
            result1.innerHTML = "";
            result2.innerHTML = "";
            number.focus();
            removeButton("button2");
          }
        }

        function lock3() {
          var sentence = input.value.trim();
          var num = parseInt(number.value.trim());
          var value3 = box.value.trim();
          if (value3 === "") {
            result3.innerHTML = "Please type the sentence!";
            result3.style.color = "rgb(75, 0, 130)";
            result3.style.fontSize = "x-large";
            result3.style.fontWeight = "bold";
            return;
          }
          if (value3 === sentence) {
            count++;
            box.value = "";
            if (count === num) {
              {
                if (count === 1) {
                  result3.innerHTML = "Your punishment is over. You have typed the sentence '" + sentence + "' " + count + " time.";
                } else {
                  result3.innerHTML = "Your punishment is over. You have typed the sentence '" + sentence + "' " + count + " times.";
                }
              }
              result3.style.color = "#000";
              result3.style.fontSize = "x-large";
              result3.style.fontWeight = "bold";
              box.style.backgroundColor = "#ccc";
              removeButton("button3");
              var p = document.createElement("p");
              p.innerHTML = sentence;
              var boxElement = document.getElementById("box");
              boxElement.placeholder = sentence;
              box.disabled = true;
            } else {
              if (count === 1) {
                result3.innerHTML = "You have typed the sentence '" + sentence + "' " + count + " time. Keep going!";
                result3.style.color = "#00f";
                result3.style.fontSize = "x-large";
                result3.style.fontWeight = "bold";
              } else {
                result3.innerHTML = "You have typed the sentence '" + sentence + "' " + count + " times. Keep going!";
                result3.style.color = "#00f";
                result3.style.fontSize = "x-large";
                result3.style.fontWeight = "bold";
              }
            }
          } else {
            result3.innerHTML = "Wrong! You have to type the sentence exactly as shown.";
            result3.style.color = "rgb(75, 0, 130)";
            result3.style.fontSize = "x-large";
            result3.style.fontWeight = "bold";
          }
        }

        function removeButton(id) {
          var elem = document.getElementById(id);
          elem.parentNode.removeChild(elem);
        }
        document.getElementById("button1").addEventListener("click", lock1);
        document.getElementById("button2").addEventListener("click", lock2);
        document.getElementById("button3").addEventListener("click", lock3);
        input.addEventListener("keyup", function(event) {
          if (event.key === 'Enter') {
            lock1();
          }
        });
        number.addEventListener("keyup", function(event) {
          if (event.key === 'Enter') {
            lock2();
          }
        });
        box.addEventListener("keyup", function(event) {
          if (event.key === 'Enter') {
            lock3();
          }
        });
      });
    </script>
     <div id="zxc">
      <h1 class="aaa" style="color: blue; font-size: 40px">Timeout / Cornertime Monitor (Stay still)</h1>
   
  </head>
  </body>

<body>
    <div id="content">
        <div id="video-container">
            <video id="video" autoplay></video>
            <canvas id="canvas"></canvas>
        </div>
        <p id="status">Waiting for camera access...</p>
    </div>

    <script>
        const video = document.getElementById('video');
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const status = document.getElementById('status');
        let previousFrame;
        const threshold = 7; // Locked threshold value
              const mediaQueryCondition = window.matchMedia( '( max-width: 1100px )' )
        if ( mediaQueryCondition.matches ) {
          const threshold = `
        8
    `
}

        // Set up audio context for beep sound
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();

        function beep() {
            const oscillator = audioContext.createOscillator();
            oscillator.type = 'sine';
            oscillator.frequency.setValueAtTime(440, audioContext.currentTime); // 440 Hz
            oscillator.connect(audioContext.destination);
            oscillator.start();
            oscillator.stop(audioContext.currentTime + 3); // Beep for 3 seconds
        }

        function startVideo() {
            navigator.mediaDevices.getUserMedia({ video: true })
                .then(stream => {
                    video.srcObject = stream;
                    video.play();
                    canvas.width = video.width = 800; // Increased width for better resolution
                    canvas.height = video.height = 600; // Increased height for better resolution
                    status.textContent = 'Motion detection active';
                    detectMotion();
                })
                .catch(err => {
                    status.textContent = 'Error accessing camera: ' + err.message;
                });
        }

        let motionDetected = false;
let motionTimeout;

function detectMotion() {
    ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
    const currentFrame = ctx.getImageData(0, 0, canvas.width, canvas.height);
    
    if (previousFrame) {
        const diffAmount = pixelDiff(currentFrame.data, previousFrame.data);
        
        if (diffAmount > threshold) {
            if (!motionDetected) {
                // Motion detected after a period of no motion
                clearTimeout(motionTimeout); // Clear any existing timeout
                motionDetected = true;
                beep(); // Optional: Play a sound or trigger any other action
                status.textContent = 'Motion detected!';
                status.style.fontSize = '24px'; // Increase font size
                status.style.fontWeight = 'bold'; // Make text bold
            }
            
            // Set a timeout to reset motionDetected after 3 seconds
            motionTimeout = setTimeout(function() {
                motionDetected = false;
                status.textContent = 'No motion detected';  status.style.fontSize = '24px'; // Increase font size
                status.style.fontWeight = 'bold'; // Make text bold
            }, 3000);
        } else {
            // If no motion detected, reset the timeout
            clearTimeout(motionTimeout);
            
            // If motion was detected before, reset status after 3 seconds
            if (motionDetected) {
                motionTimeout = setTimeout(function() {
                    motionDetected = false;
                    status.textContent = 'No motion detected';
                }, 3000);
            }
        }
    }
    
    previousFrame = currentFrame;
    requestAnimationFrame(detectMotion);
}


        function pixelDiff(arr1, arr2) {
            let diff = 0;
            for (let i = 0; i < arr1.length; i += 4) {
                // Calculate the squared difference for each color channel (red, green, blue)
                diff += Math.pow(arr1[i] - arr2[i], 2);     // Red channel
                diff += Math.pow(arr1[i + 1] - arr2[i + 1], 2); // Green channel
                diff += Math.pow(arr1[i + 2] - arr2[i + 2], 2); // Blue channel
            }
            return Math.sqrt(diff / (arr1.length / 4)); // Average squared difference per pixel
        }

        startVideo();
        document.getElementById("zxc").style.display = "none";
    </script>
    </div>
</html>
